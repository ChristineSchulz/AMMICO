<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>text module &mdash; AMMICO 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=d45e8c67"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="License" href="license_link.html" />
    <link rel="prev" title="AMMICO package modules" href="modules.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            AMMICO
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readme_link.html">AMMICO - AI Media and Misinformation Content Analysis Tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="readme_link.html#faq">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="create_API_key_link.html">Instructions how to generate and enable a google Cloud Vision API key</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/DemoNotebook_ammico.html">AMMICO Demonstration Notebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/DemoNotebook_ammico.html#Step-0:-Create-and-set-a-Google-Cloud-Vision-Key">Step 0: Create and set a Google Cloud Vision Key</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/DemoNotebook_ammico.html#Step-1:-Read-your-data-into-AMMICO">Step 1: Read your data into AMMICO</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/DemoNotebook_ammico.html#The-detector-modules">The detector modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks/Example%20cropposts.html">Crop posts module</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">AMMICO package modules</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">text module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#text.PostprocessText"><code class="docutils literal notranslate"><span class="pre">PostprocessText</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#text.PostprocessText.analyse_topic"><code class="docutils literal notranslate"><span class="pre">PostprocessText.analyse_topic()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#text.PostprocessText.get_text_df"><code class="docutils literal notranslate"><span class="pre">PostprocessText.get_text_df()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#text.PostprocessText.get_text_dict"><code class="docutils literal notranslate"><span class="pre">PostprocessText.get_text_dict()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#text.TextAnalyzer"><code class="docutils literal notranslate"><span class="pre">TextAnalyzer</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#text.TextAnalyzer.read_csv"><code class="docutils literal notranslate"><span class="pre">TextAnalyzer.read_csv()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#text.TextDetector"><code class="docutils literal notranslate"><span class="pre">TextDetector</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#text.TextDetector.analyse_image"><code class="docutils literal notranslate"><span class="pre">TextDetector.analyse_image()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#text.TextDetector.clean_text"><code class="docutils literal notranslate"><span class="pre">TextDetector.clean_text()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#text.TextDetector.get_text_from_image"><code class="docutils literal notranslate"><span class="pre">TextDetector.get_text_from_image()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#text.TextDetector.remove_linebreaks"><code class="docutils literal notranslate"><span class="pre">TextDetector.remove_linebreaks()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#text.TextDetector.set_keys"><code class="docutils literal notranslate"><span class="pre">TextDetector.set_keys()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#text.TextDetector.text_ner"><code class="docutils literal notranslate"><span class="pre">TextDetector.text_ner()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#text.TextDetector.text_sentiment_transformers"><code class="docutils literal notranslate"><span class="pre">TextDetector.text_sentiment_transformers()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#text.TextDetector.text_summary"><code class="docutils literal notranslate"><span class="pre">TextDetector.text_summary()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#text.TextDetector.translate_text"><code class="docutils literal notranslate"><span class="pre">TextDetector.translate_text()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-summary">summary module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#summary.SummaryDetector"><code class="docutils literal notranslate"><span class="pre">SummaryDetector</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#summary.SummaryDetector.all_allowed_model_types"><code class="docutils literal notranslate"><span class="pre">SummaryDetector.all_allowed_model_types</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#summary.SummaryDetector.allowed_analysis_types"><code class="docutils literal notranslate"><span class="pre">SummaryDetector.allowed_analysis_types</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#summary.SummaryDetector.allowed_model_types"><code class="docutils literal notranslate"><span class="pre">SummaryDetector.allowed_model_types</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#summary.SummaryDetector.allowed_new_model_types"><code class="docutils literal notranslate"><span class="pre">SummaryDetector.allowed_new_model_types</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#summary.SummaryDetector.analyse_image"><code class="docutils literal notranslate"><span class="pre">SummaryDetector.analyse_image()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#summary.SummaryDetector.analyse_questions"><code class="docutils literal notranslate"><span class="pre">SummaryDetector.analyse_questions()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#summary.SummaryDetector.analyse_summary"><code class="docutils literal notranslate"><span class="pre">SummaryDetector.analyse_summary()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#summary.SummaryDetector.check_model"><code class="docutils literal notranslate"><span class="pre">SummaryDetector.check_model()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#summary.SummaryDetector.load_model"><code class="docutils literal notranslate"><span class="pre">SummaryDetector.load_model()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#summary.SummaryDetector.load_model_base"><code class="docutils literal notranslate"><span class="pre">SummaryDetector.load_model_base()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#summary.SummaryDetector.load_model_base_blip2_opt_caption_coco_opt67b"><code class="docutils literal notranslate"><span class="pre">SummaryDetector.load_model_base_blip2_opt_caption_coco_opt67b()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#summary.SummaryDetector.load_model_base_blip2_opt_pretrain_opt67b"><code class="docutils literal notranslate"><span class="pre">SummaryDetector.load_model_base_blip2_opt_pretrain_opt67b()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#summary.SummaryDetector.load_model_blip2_opt_caption_coco_opt27b"><code class="docutils literal notranslate"><span class="pre">SummaryDetector.load_model_blip2_opt_caption_coco_opt27b()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#summary.SummaryDetector.load_model_blip2_opt_pretrain_opt27b"><code class="docutils literal notranslate"><span class="pre">SummaryDetector.load_model_blip2_opt_pretrain_opt27b()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#summary.SummaryDetector.load_model_blip2_t5_caption_coco_flant5xl"><code class="docutils literal notranslate"><span class="pre">SummaryDetector.load_model_blip2_t5_caption_coco_flant5xl()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#summary.SummaryDetector.load_model_blip2_t5_pretrain_flant5xl"><code class="docutils literal notranslate"><span class="pre">SummaryDetector.load_model_blip2_t5_pretrain_flant5xl()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#summary.SummaryDetector.load_model_blip2_t5_pretrain_flant5xxl"><code class="docutils literal notranslate"><span class="pre">SummaryDetector.load_model_blip2_t5_pretrain_flant5xxl()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#summary.SummaryDetector.load_model_large"><code class="docutils literal notranslate"><span class="pre">SummaryDetector.load_model_large()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#summary.SummaryDetector.load_new_model"><code class="docutils literal notranslate"><span class="pre">SummaryDetector.load_new_model()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#summary.SummaryDetector.load_vqa_model"><code class="docutils literal notranslate"><span class="pre">SummaryDetector.load_vqa_model()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-multimodal_search">multimodal search module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#multimodal_search.MultimodalSearch"><code class="docutils literal notranslate"><span class="pre">MultimodalSearch</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#multimodal_search.MultimodalSearch.compute_gradcam_batch"><code class="docutils literal notranslate"><span class="pre">MultimodalSearch.compute_gradcam_batch()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#multimodal_search.MultimodalSearch.extract_image_features_basic"><code class="docutils literal notranslate"><span class="pre">MultimodalSearch.extract_image_features_basic()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#multimodal_search.MultimodalSearch.extract_image_features_blip2"><code class="docutils literal notranslate"><span class="pre">MultimodalSearch.extract_image_features_blip2()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#multimodal_search.MultimodalSearch.extract_image_features_clip"><code class="docutils literal notranslate"><span class="pre">MultimodalSearch.extract_image_features_clip()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#multimodal_search.MultimodalSearch.extract_text_features"><code class="docutils literal notranslate"><span class="pre">MultimodalSearch.extract_text_features()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#multimodal_search.MultimodalSearch.get_att_map"><code class="docutils literal notranslate"><span class="pre">MultimodalSearch.get_att_map()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#multimodal_search.MultimodalSearch.get_pathes_from_query"><code class="docutils literal notranslate"><span class="pre">MultimodalSearch.get_pathes_from_query()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#multimodal_search.MultimodalSearch.image_text_match_reordering"><code class="docutils literal notranslate"><span class="pre">MultimodalSearch.image_text_match_reordering()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#multimodal_search.MultimodalSearch.itm_text_precessing"><code class="docutils literal notranslate"><span class="pre">MultimodalSearch.itm_text_precessing()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#multimodal_search.MultimodalSearch.load_feature_extractor_model_albef"><code class="docutils literal notranslate"><span class="pre">MultimodalSearch.load_feature_extractor_model_albef()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#multimodal_search.MultimodalSearch.load_feature_extractor_model_blip"><code class="docutils literal notranslate"><span class="pre">MultimodalSearch.load_feature_extractor_model_blip()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#multimodal_search.MultimodalSearch.load_feature_extractor_model_blip2"><code class="docutils literal notranslate"><span class="pre">MultimodalSearch.load_feature_extractor_model_blip2()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#multimodal_search.MultimodalSearch.load_feature_extractor_model_clip_base"><code class="docutils literal notranslate"><span class="pre">MultimodalSearch.load_feature_extractor_model_clip_base()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#multimodal_search.MultimodalSearch.load_feature_extractor_model_clip_vitl14"><code class="docutils literal notranslate"><span class="pre">MultimodalSearch.load_feature_extractor_model_clip_vitl14()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#multimodal_search.MultimodalSearch.load_feature_extractor_model_clip_vitl14_336"><code class="docutils literal notranslate"><span class="pre">MultimodalSearch.load_feature_extractor_model_clip_vitl14_336()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#multimodal_search.MultimodalSearch.load_tensors"><code class="docutils literal notranslate"><span class="pre">MultimodalSearch.load_tensors()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#multimodal_search.MultimodalSearch.multimodal_device"><code class="docutils literal notranslate"><span class="pre">MultimodalSearch.multimodal_device</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#multimodal_search.MultimodalSearch.multimodal_search"><code class="docutils literal notranslate"><span class="pre">MultimodalSearch.multimodal_search()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#multimodal_search.MultimodalSearch.parsing_images"><code class="docutils literal notranslate"><span class="pre">MultimodalSearch.parsing_images()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#multimodal_search.MultimodalSearch.querys_processing"><code class="docutils literal notranslate"><span class="pre">MultimodalSearch.querys_processing()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#multimodal_search.MultimodalSearch.read_and_process_images"><code class="docutils literal notranslate"><span class="pre">MultimodalSearch.read_and_process_images()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#multimodal_search.MultimodalSearch.read_and_process_images_itm"><code class="docutils literal notranslate"><span class="pre">MultimodalSearch.read_and_process_images_itm()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#multimodal_search.MultimodalSearch.read_img"><code class="docutils literal notranslate"><span class="pre">MultimodalSearch.read_img()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#multimodal_search.MultimodalSearch.resize_img"><code class="docutils literal notranslate"><span class="pre">MultimodalSearch.resize_img()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#multimodal_search.MultimodalSearch.save_tensors"><code class="docutils literal notranslate"><span class="pre">MultimodalSearch.save_tensors()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#multimodal_search.MultimodalSearch.show_results"><code class="docutils literal notranslate"><span class="pre">MultimodalSearch.show_results()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#multimodal_search.MultimodalSearch.upload_model_blip2_coco"><code class="docutils literal notranslate"><span class="pre">MultimodalSearch.upload_model_blip2_coco()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#multimodal_search.MultimodalSearch.upload_model_blip_base"><code class="docutils literal notranslate"><span class="pre">MultimodalSearch.upload_model_blip_base()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#multimodal_search.MultimodalSearch.upload_model_blip_large"><code class="docutils literal notranslate"><span class="pre">MultimodalSearch.upload_model_blip_large()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-faces">faces module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#faces.EmotionDetector"><code class="docutils literal notranslate"><span class="pre">EmotionDetector</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#faces.EmotionDetector.analyse_image"><code class="docutils literal notranslate"><span class="pre">EmotionDetector.analyse_image()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#faces.EmotionDetector.analyze_single_face"><code class="docutils literal notranslate"><span class="pre">EmotionDetector.analyze_single_face()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#faces.EmotionDetector.clean_subdict"><code class="docutils literal notranslate"><span class="pre">EmotionDetector.clean_subdict()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#faces.EmotionDetector.facial_expression_analysis"><code class="docutils literal notranslate"><span class="pre">EmotionDetector.facial_expression_analysis()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#faces.EmotionDetector.set_keys"><code class="docutils literal notranslate"><span class="pre">EmotionDetector.set_keys()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#faces.EmotionDetector.wears_mask"><code class="docutils literal notranslate"><span class="pre">EmotionDetector.wears_mask()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#faces.deepface_symlink_processor"><code class="docutils literal notranslate"><span class="pre">deepface_symlink_processor()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-colors">color_analysis module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#colors.ColorDetector"><code class="docutils literal notranslate"><span class="pre">ColorDetector</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#colors.ColorDetector.analyse_image"><code class="docutils literal notranslate"><span class="pre">ColorDetector.analyse_image()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#colors.ColorDetector.rgb2name"><code class="docutils literal notranslate"><span class="pre">ColorDetector.rgb2name()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#colors.ColorDetector.set_keys"><code class="docutils literal notranslate"><span class="pre">ColorDetector.set_keys()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-cropposts">cropposts module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#cropposts.compute_crop_corner"><code class="docutils literal notranslate"><span class="pre">compute_crop_corner()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cropposts.crop_image_from_post"><code class="docutils literal notranslate"><span class="pre">crop_image_from_post()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cropposts.crop_media_posts"><code class="docutils literal notranslate"><span class="pre">crop_media_posts()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cropposts.crop_posts_from_refs"><code class="docutils literal notranslate"><span class="pre">crop_posts_from_refs()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cropposts.crop_posts_image"><code class="docutils literal notranslate"><span class="pre">crop_posts_image()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cropposts.draw_matches"><code class="docutils literal notranslate"><span class="pre">draw_matches()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cropposts.kp_from_matches"><code class="docutils literal notranslate"><span class="pre">kp_from_matches()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cropposts.matching_points"><code class="docutils literal notranslate"><span class="pre">matching_points()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cropposts.paste_image_and_comment"><code class="docutils literal notranslate"><span class="pre">paste_image_and_comment()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-utils">utils module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#utils.AnalysisMethod"><code class="docutils literal notranslate"><span class="pre">AnalysisMethod</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#utils.AnalysisMethod.analyse_image"><code class="docutils literal notranslate"><span class="pre">AnalysisMethod.analyse_image()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#utils.AnalysisMethod.set_keys"><code class="docutils literal notranslate"><span class="pre">AnalysisMethod.set_keys()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#utils.DownloadResource"><code class="docutils literal notranslate"><span class="pre">DownloadResource</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#utils.DownloadResource.get"><code class="docutils literal notranslate"><span class="pre">DownloadResource.get()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#utils.DownloadResource.resources"><code class="docutils literal notranslate"><span class="pre">DownloadResource.resources</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#utils.ammico_prefetch_models"><code class="docutils literal notranslate"><span class="pre">ammico_prefetch_models()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#utils.append_data_to_dict"><code class="docutils literal notranslate"><span class="pre">append_data_to_dict()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#utils.check_for_missing_keys"><code class="docutils literal notranslate"><span class="pre">check_for_missing_keys()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#utils.dump_df"><code class="docutils literal notranslate"><span class="pre">dump_df()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#utils.find_files"><code class="docutils literal notranslate"><span class="pre">find_files()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#utils.get_color_table"><code class="docutils literal notranslate"><span class="pre">get_color_table()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#utils.get_dataframe"><code class="docutils literal notranslate"><span class="pre">get_dataframe()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#utils.initialize_dict"><code class="docutils literal notranslate"><span class="pre">initialize_dict()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#utils.is_interactive"><code class="docutils literal notranslate"><span class="pre">is_interactive()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#utils.iterable"><code class="docutils literal notranslate"><span class="pre">iterable()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-display">display module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#display.AnalysisExplorer"><code class="docutils literal notranslate"><span class="pre">AnalysisExplorer</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#display.AnalysisExplorer.run_server"><code class="docutils literal notranslate"><span class="pre">AnalysisExplorer.run_server()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#display.AnalysisExplorer.update_picture"><code class="docutils literal notranslate"><span class="pre">AnalysisExplorer.update_picture()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="license_link.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">AMMICO</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">AMMICO package modules</a></li>
      <li class="breadcrumb-item active">text module</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/ssciwr/AMMICO/blob/main/source/ammico.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-text">
<span id="text-module"></span><h1>text module<a class="headerlink" href="#module-text" title="Link to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="text.PostprocessText">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">text.</span></span><span class="sig-name descname"><span class="pre">PostprocessText</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mydict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_csv</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">csv_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analyze_text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'text_english'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#text.PostprocessText" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="text.PostprocessText.analyse_topic">
<span class="sig-name descname"><span class="pre">analyse_topic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">return_topics</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#text.PostprocessText.analyse_topic" title="Link to this definition"></a></dt>
<dd><p>Performs topic analysis using BERTopic.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>return_topics</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of topics to return. Defaults to 3.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>tuple</strong> – A tuple containing the topic model, topic dataframe, and most frequent topics.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="text.PostprocessText.get_text_df">
<span class="sig-name descname"><span class="pre">get_text_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">analyze_text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span></span></span><a class="headerlink" href="#text.PostprocessText.get_text_df" title="Link to this definition"></a></dt>
<dd><p>Extracts text from the provided dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>analyze_text</strong> (<em>str</em>) – Column name for the text field to analyze.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>list</strong> – A list of text extracted from the dataframe.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="text.PostprocessText.get_text_dict">
<span class="sig-name descname"><span class="pre">get_text_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">analyze_text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span></span></span><a class="headerlink" href="#text.PostprocessText.get_text_dict" title="Link to this definition"></a></dt>
<dd><p>Extracts text from the provided dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>analyze_text</strong> (<em>str</em>) – Key for the text field to analyze.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>list</strong> – A list of text extracted from the dictionary.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="text.TextAnalyzer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">text.</span></span><span class="sig-name descname"><span class="pre">TextAnalyzer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">csv_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">csv_encoding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'utf-8'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#text.TextAnalyzer" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Used to get text from a csv and then run the TextDetector on it.</p>
<dl class="py method">
<dt class="sig sig-object py" id="text.TextAnalyzer.read_csv">
<span class="sig-name descname"><span class="pre">read_csv</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#text.TextAnalyzer.read_csv" title="Link to this definition"></a></dt>
<dd><p>Read the CSV file and return the dictionary with the text entries.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dict</strong> – The dictionary with the text entries.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="text.TextDetector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">text.</span></span><span class="sig-name descname"><span class="pre">TextDetector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subdict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analyse_text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_extraction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">revision_numbers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#text.TextDetector" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">AnalysisMethod</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="text.TextDetector.analyse_image">
<span class="sig-name descname"><span class="pre">analyse_image</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#text.TextDetector.analyse_image" title="Link to this definition"></a></dt>
<dd><p>Perform text extraction and analysis of the text.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dict</strong> – The updated dictionary with text analysis results.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="text.TextDetector.clean_text">
<span class="sig-name descname"><span class="pre">clean_text</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#text.TextDetector.clean_text" title="Link to this definition"></a></dt>
<dd><p>Clean the text from unrecognized words and any numbers.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="text.TextDetector.get_text_from_image">
<span class="sig-name descname"><span class="pre">get_text_from_image</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#text.TextDetector.get_text_from_image" title="Link to this definition"></a></dt>
<dd><p>Detect text on the image using Google Cloud Vision API.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="text.TextDetector.remove_linebreaks">
<span class="sig-name descname"><span class="pre">remove_linebreaks</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#text.TextDetector.remove_linebreaks" title="Link to this definition"></a></dt>
<dd><p>Remove linebreaks from original and translated text.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="text.TextDetector.set_keys">
<span class="sig-name descname"><span class="pre">set_keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#text.TextDetector.set_keys" title="Link to this definition"></a></dt>
<dd><p>Set the default keys for text analysis.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dict</strong> – The dictionary with default text keys.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="text.TextDetector.text_ner">
<span class="sig-name descname"><span class="pre">text_ner</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#text.TextDetector.text_ner" title="Link to this definition"></a></dt>
<dd><p>Perform named entity recognition on the text using the Transformers pipeline.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="text.TextDetector.text_sentiment_transformers">
<span class="sig-name descname"><span class="pre">text_sentiment_transformers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#text.TextDetector.text_sentiment_transformers" title="Link to this definition"></a></dt>
<dd><p>Perform text classification for sentiment using the Transformers pipeline.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="text.TextDetector.text_summary">
<span class="sig-name descname"><span class="pre">text_summary</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#text.TextDetector.text_summary" title="Link to this definition"></a></dt>
<dd><p>Generate a summary of the text using the Transformers pipeline.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="text.TextDetector.translate_text">
<span class="sig-name descname"><span class="pre">translate_text</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#text.TextDetector.translate_text" title="Link to this definition"></a></dt>
<dd><p>Translate the detected text to English using the Translator object.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-summary">
<span id="summary-module"></span><h1>summary module<a class="headerlink" href="#module-summary" title="Link to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="summary.SummaryDetector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">summary.</span></span><span class="sig-name descname"><span class="pre">SummaryDetector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subdict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'base'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analysis_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'summary_and_questions'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_of_questions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">summary_model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">summary_vis_processors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">summary_vqa_model</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">summary_vqa_vis_processors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">summary_vqa_txt_processors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">summary_vqa_model_new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">summary_vqa_vis_processors_new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">summary_vqa_txt_processors_new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#summary.SummaryDetector" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">AnalysisMethod</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="summary.SummaryDetector.all_allowed_model_types">
<span class="sig-name descname"><span class="pre">all_allowed_model_types</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['base',</span> <span class="pre">'large',</span> <span class="pre">'vqa',</span> <span class="pre">'blip2_t5_pretrain_flant5xxl',</span> <span class="pre">'blip2_t5_pretrain_flant5xl',</span> <span class="pre">'blip2_t5_caption_coco_flant5xl',</span> <span class="pre">'blip2_opt_pretrain_opt2.7b',</span> <span class="pre">'blip2_opt_pretrain_opt6.7b',</span> <span class="pre">'blip2_opt_caption_coco_opt2.7b',</span> <span class="pre">'blip2_opt_caption_coco_opt6.7b']</span></em><a class="headerlink" href="#summary.SummaryDetector.all_allowed_model_types" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="summary.SummaryDetector.allowed_analysis_types">
<span class="sig-name descname"><span class="pre">allowed_analysis_types</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['summary',</span> <span class="pre">'questions',</span> <span class="pre">'summary_and_questions']</span></em><a class="headerlink" href="#summary.SummaryDetector.allowed_analysis_types" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="summary.SummaryDetector.allowed_model_types">
<span class="sig-name descname"><span class="pre">allowed_model_types</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['base',</span> <span class="pre">'large',</span> <span class="pre">'vqa']</span></em><a class="headerlink" href="#summary.SummaryDetector.allowed_model_types" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="summary.SummaryDetector.allowed_new_model_types">
<span class="sig-name descname"><span class="pre">allowed_new_model_types</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['blip2_t5_pretrain_flant5xxl',</span> <span class="pre">'blip2_t5_pretrain_flant5xl',</span> <span class="pre">'blip2_t5_caption_coco_flant5xl',</span> <span class="pre">'blip2_opt_pretrain_opt2.7b',</span> <span class="pre">'blip2_opt_pretrain_opt6.7b',</span> <span class="pre">'blip2_opt_caption_coco_opt2.7b',</span> <span class="pre">'blip2_opt_caption_coco_opt6.7b']</span></em><a class="headerlink" href="#summary.SummaryDetector.allowed_new_model_types" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="summary.SummaryDetector.analyse_image">
<span class="sig-name descname"><span class="pre">analyse_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subdict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analysis_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_of_questions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consequential_questions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#summary.SummaryDetector.analyse_image" title="Link to this definition"></a></dt>
<dd><p>Analyse image with blip_caption model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>analysis_type</strong> (<em>str</em>) – type of the analysis.</p></li>
<li><p><strong>subdict</strong> (<em>dict</em>) – dictionary with analising pictures.</p></li>
<li><p><strong>list_of_questions</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – list of questions.</p></li>
<li><p><strong>consequential_questions</strong> (<em>bool</em>) – whether to ask consequential questions. Works only for new BLIP2 models.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>self.subdict</strong> (<em>dict</em>) – dictionary with analysis results.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="summary.SummaryDetector.analyse_questions">
<span class="sig-name descname"><span class="pre">analyse_questions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_of_questions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">consequential_questions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#summary.SummaryDetector.analyse_questions" title="Link to this definition"></a></dt>
<dd><p>Generate answers to free-form questions about image written in natural language.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list_of_questions</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – list of questions.</p></li>
<li><p><strong>consequential_questions</strong> (<em>bool</em>) – whether to ask consequential questions. Works only for new BLIP2 models.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>self.subdict</strong> (<em>dict</em>) – dictionary with answers to questions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="summary.SummaryDetector.analyse_summary">
<span class="sig-name descname"><span class="pre">analyse_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nondeterministic_summaries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#summary.SummaryDetector.analyse_summary" title="Link to this definition"></a></dt>
<dd><p>Create 1 constant and 3 non deterministic captions for image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>nondeterministic_summaries</strong> (<em>bool</em>) – whether to create 3 non deterministic captions.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>self.subdict</strong> (<em>dict</em>) – dictionary with analysis results.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="summary.SummaryDetector.check_model">
<span class="sig-name descname"><span class="pre">check_model</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#summary.SummaryDetector.check_model" title="Link to this definition"></a></dt>
<dd><p>Check model type and return appropriate model and preprocessors.</p>
<p>Args:</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>nn.Module</em>) – model.</p></li>
<li><p><strong>vis_processors</strong> (<em>dict</em>) – visual preprocessor.</p></li>
<li><p><strong>txt_processors</strong> (<em>dict</em>) – text preprocessor.</p></li>
<li><p><strong>model_old</strong> (<em>bool</em>) – whether model is old or new.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="summary.SummaryDetector.load_model">
<span class="sig-name descname"><span class="pre">load_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#summary.SummaryDetector.load_model" title="Link to this definition"></a></dt>
<dd><p>Load blip_caption model and preprocessors for visual inputs from lavis.models.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model_type</strong> (<em>str</em>) – type of the model.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>summary_model</strong> (<em>torch.nn.Module</em>) – model.</p></li>
<li><p><strong>summary_vis_processors</strong> (<em>dict</em>) – preprocessors for visual inputs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="summary.SummaryDetector.load_model_base">
<span class="sig-name descname"><span class="pre">load_model_base</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#summary.SummaryDetector.load_model_base" title="Link to this definition"></a></dt>
<dd><p>Load base_coco blip_caption model and preprocessors for visual inputs from lavis.models.</p>
<p>Args:</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>summary_model</strong> (<em>torch.nn.Module</em>) – model.</p></li>
<li><p><strong>summary_vis_processors</strong> (<em>dict</em>) – preprocessors for visual inputs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="summary.SummaryDetector.load_model_base_blip2_opt_caption_coco_opt67b">
<span class="sig-name descname"><span class="pre">load_model_base_blip2_opt_caption_coco_opt67b</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#summary.SummaryDetector.load_model_base_blip2_opt_caption_coco_opt67b" title="Link to this definition"></a></dt>
<dd><p>Load BLIP2 model with caption_coco_opt6.7b architecture.</p>
<p>Args:</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>torch.nn.Module</em>) – model.</p></li>
<li><p><strong>vis_processors</strong> (<em>dict</em>) – preprocessors for visual inputs.</p></li>
<li><p><strong>txt_processors</strong> (<em>dict</em>) – preprocessors for text inputs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="summary.SummaryDetector.load_model_base_blip2_opt_pretrain_opt67b">
<span class="sig-name descname"><span class="pre">load_model_base_blip2_opt_pretrain_opt67b</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#summary.SummaryDetector.load_model_base_blip2_opt_pretrain_opt67b" title="Link to this definition"></a></dt>
<dd><p>Load BLIP2 model with pretrain_opt6.7b architecture.</p>
<p>Args:</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>torch.nn.Module</em>) – model.</p></li>
<li><p><strong>vis_processors</strong> (<em>dict</em>) – preprocessors for visual inputs.</p></li>
<li><p><strong>txt_processors</strong> (<em>dict</em>) – preprocessors for text inputs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="summary.SummaryDetector.load_model_blip2_opt_caption_coco_opt27b">
<span class="sig-name descname"><span class="pre">load_model_blip2_opt_caption_coco_opt27b</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#summary.SummaryDetector.load_model_blip2_opt_caption_coco_opt27b" title="Link to this definition"></a></dt>
<dd><p>Load BLIP2 model with caption_coco_opt2.7b architecture.</p>
<p>Args:</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>torch.nn.Module</em>) – model.</p></li>
<li><p><strong>vis_processors</strong> (<em>dict</em>) – preprocessors for visual inputs.</p></li>
<li><p><strong>txt_processors</strong> (<em>dict</em>) – preprocessors for text inputs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="summary.SummaryDetector.load_model_blip2_opt_pretrain_opt27b">
<span class="sig-name descname"><span class="pre">load_model_blip2_opt_pretrain_opt27b</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#summary.SummaryDetector.load_model_blip2_opt_pretrain_opt27b" title="Link to this definition"></a></dt>
<dd><p>Load BLIP2 model with pretrain_opt2 architecture.</p>
<p>Args:</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>torch.nn.Module</em>) – model.</p></li>
<li><p><strong>vis_processors</strong> (<em>dict</em>) – preprocessors for visual inputs.</p></li>
<li><p><strong>txt_processors</strong> (<em>dict</em>) – preprocessors for text inputs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="summary.SummaryDetector.load_model_blip2_t5_caption_coco_flant5xl">
<span class="sig-name descname"><span class="pre">load_model_blip2_t5_caption_coco_flant5xl</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#summary.SummaryDetector.load_model_blip2_t5_caption_coco_flant5xl" title="Link to this definition"></a></dt>
<dd><p>Load BLIP2 model with caption_coco_flant5xl architecture.</p>
<p>Args:</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>torch.nn.Module</em>) – model.</p></li>
<li><p><strong>vis_processors</strong> (<em>dict</em>) – preprocessors for visual inputs.</p></li>
<li><p><strong>txt_processors</strong> (<em>dict</em>) – preprocessors for text inputs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="summary.SummaryDetector.load_model_blip2_t5_pretrain_flant5xl">
<span class="sig-name descname"><span class="pre">load_model_blip2_t5_pretrain_flant5xl</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#summary.SummaryDetector.load_model_blip2_t5_pretrain_flant5xl" title="Link to this definition"></a></dt>
<dd><p>Load BLIP2 model with FLAN-T5 XL architecture.</p>
<p>Args:</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>torch.nn.Module</em>) – model.</p></li>
<li><p><strong>vis_processors</strong> (<em>dict</em>) – preprocessors for visual inputs.</p></li>
<li><p><strong>txt_processors</strong> (<em>dict</em>) – preprocessors for text inputs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="summary.SummaryDetector.load_model_blip2_t5_pretrain_flant5xxl">
<span class="sig-name descname"><span class="pre">load_model_blip2_t5_pretrain_flant5xxl</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#summary.SummaryDetector.load_model_blip2_t5_pretrain_flant5xxl" title="Link to this definition"></a></dt>
<dd><p>Load BLIP2 model with FLAN-T5 XXL architecture.</p>
<p>Args:</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>torch.nn.Module</em>) – model.</p></li>
<li><p><strong>vis_processors</strong> (<em>dict</em>) – preprocessors for visual inputs.</p></li>
<li><p><strong>txt_processors</strong> (<em>dict</em>) – preprocessors for text inputs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="summary.SummaryDetector.load_model_large">
<span class="sig-name descname"><span class="pre">load_model_large</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#summary.SummaryDetector.load_model_large" title="Link to this definition"></a></dt>
<dd><p>Load large_coco blip_caption model and preprocessors for visual inputs from lavis.models.</p>
<p>Args:</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>summary_model</strong> (<em>torch.nn.Module</em>) – model.</p></li>
<li><p><strong>summary_vis_processors</strong> (<em>dict</em>) – preprocessors for visual inputs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="summary.SummaryDetector.load_new_model">
<span class="sig-name descname"><span class="pre">load_new_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#summary.SummaryDetector.load_new_model" title="Link to this definition"></a></dt>
<dd><p>Load new BLIP2 models.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model_type</strong> (<em>str</em>) – type of the model.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>model</strong> (<em>torch.nn.Module</em>) – model.</p></li>
<li><p><strong>vis_processors</strong> (<em>dict</em>) – preprocessors for visual inputs.</p></li>
<li><p><strong>txt_processors</strong> (<em>dict</em>) – preprocessors for text inputs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="summary.SummaryDetector.load_vqa_model">
<span class="sig-name descname"><span class="pre">load_vqa_model</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#summary.SummaryDetector.load_vqa_model" title="Link to this definition"></a></dt>
<dd><p>Load blip_vqa model and preprocessors for visual and text inputs from lavis.models.</p>
<p>Args:</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>summary_vqa_model</strong> (<em>torch.nn.Module</em>) – model.</p></li>
<li><p><strong>summary_vqa_vis_processors</strong> (<em>dict</em>) – preprocessors for visual inputs.</p></li>
<li><p><strong>summary_vqa_txt_processors</strong> (<em>dict</em>) – preprocessors for text inputs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-multimodal_search">
<span id="multimodal-search-module"></span><h1>multimodal search module<a class="headerlink" href="#module-multimodal_search" title="Link to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="multimodal_search.MultimodalSearch">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">multimodal_search.</span></span><span class="sig-name descname"><span class="pre">MultimodalSearch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subdict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#multimodal_search.MultimodalSearch" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">AnalysisMethod</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="multimodal_search.MultimodalSearch.compute_gradcam_batch">
<span class="sig-name descname"><span class="pre">compute_gradcam_batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Module</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">visual_input</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tensor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_input</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tokenized_text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tensor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block_num</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">6</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#multimodal_search.MultimodalSearch.compute_gradcam_batch" title="Link to this definition"></a></dt>
<dd><p>Compute gradcam for itm model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>torch.nn.Module</em>) – model.</p></li>
<li><p><strong>visual_input</strong> (<em>torch.Tensor</em>) – tensors of images features stacked in device.</p></li>
<li><p><strong>text_input</strong> (<em>str</em>) – text.</p></li>
<li><p><strong>tokenized_text</strong> (<em>torch.Tensor</em>) – tokenized text.</p></li>
<li><p><strong>block_num</strong> (<em>int</em>) – number of block. Default: 6.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>gradcam</strong> (<em>torch.Tensor</em>) – gradcam.</p></li>
<li><p><strong>output</strong> (<em>torch.Tensor</em>) – output of model.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="multimodal_search.MultimodalSearch.extract_image_features_basic">
<span class="sig-name descname"><span class="pre">extract_image_features_basic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">images_tensors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tensor</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tensor</span></span></span><a class="headerlink" href="#multimodal_search.MultimodalSearch.extract_image_features_basic" title="Link to this definition"></a></dt>
<dd><p>Extract image features from images_tensors with blip_feature_extractor or albef_feature_extractor model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>torch.nn.Module</em>) – model.</p></li>
<li><p><strong>images_tensors</strong> (<em>torch.Tensor</em>) – tensors of images stacked in device.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>features_image_stacked</strong> (<em>torch.Tensor</em>) – tensors of images features stacked in device.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="multimodal_search.MultimodalSearch.extract_image_features_blip2">
<span class="sig-name descname"><span class="pre">extract_image_features_blip2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">images_tensors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tensor</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tensor</span></span></span><a class="headerlink" href="#multimodal_search.MultimodalSearch.extract_image_features_blip2" title="Link to this definition"></a></dt>
<dd><p>Extract image features from images_tensors with blip2_feature_extractor model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>torch.nn.Module</em>) – model.</p></li>
<li><p><strong>images_tensors</strong> (<em>torch.Tensor</em>) – tensors of images stacked in device.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>features_image_stacked</strong> (<em>torch.Tensor</em>) – tensors of images features stacked in device.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="multimodal_search.MultimodalSearch.extract_image_features_clip">
<span class="sig-name descname"><span class="pre">extract_image_features_clip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">images_tensors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tensor</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tensor</span></span></span><a class="headerlink" href="#multimodal_search.MultimodalSearch.extract_image_features_clip" title="Link to this definition"></a></dt>
<dd><p>Extract image features from images_tensors with clip_feature_extractor model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>torch.nn.Module</em>) – model.</p></li>
<li><p><strong>images_tensors</strong> (<em>torch.Tensor</em>) – tensors of images stacked in device.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>features_image_stacked</strong> (<em>torch.Tensor</em>) – tensors of images features stacked in device.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="multimodal_search.MultimodalSearch.extract_text_features">
<span class="sig-name descname"><span class="pre">extract_text_features</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_input</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tensor</span></span></span><a class="headerlink" href="#multimodal_search.MultimodalSearch.extract_text_features" title="Link to this definition"></a></dt>
<dd><p>Extract text features from text_input with feature_extractor model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>torch.nn.Module</em>) – model.</p></li>
<li><p><strong>text_input</strong> (<em>str</em>) – text.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>features_text</strong> (<em>torch.Tensor</em>) – tensors of text features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="multimodal_search.MultimodalSearch.get_att_map">
<span class="sig-name descname"><span class="pre">get_att_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">att_map</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blur</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overlap</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="headerlink" href="#multimodal_search.MultimodalSearch.get_att_map" title="Link to this definition"></a></dt>
<dd><p>Get attention map.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>img</strong> (<em>np.ndarray</em>) – image.</p></li>
<li><p><strong>att_map</strong> (<em>np.ndarray</em>) – attention map.</p></li>
<li><p><strong>blur</strong> (<em>bool</em>) – blur attention map. Default: True.</p></li>
<li><p><strong>overlap</strong> (<em>bool</em>) – overlap attention map with image. Default: True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>att_map</strong> (<em>np.ndarray</em>) – attention map.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="multimodal_search.MultimodalSearch.get_pathes_from_query">
<span class="sig-name descname"><span class="pre">get_pathes_from_query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#multimodal_search.MultimodalSearch.get_pathes_from_query" title="Link to this definition"></a></dt>
<dd><p>Get pathes and image names from query.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>query</strong> (<em>dict</em>) – query.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>paths</strong> (<em>list</em>) – list of pathes.</p></li>
<li><p><strong>image_names</strong> (<em>list</em>) – list of image names.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="multimodal_search.MultimodalSearch.image_text_match_reordering">
<span class="sig-name descname"><span class="pre">image_text_match_reordering</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">search_query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">itm_model_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_keys</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sorted_lists</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">need_grad_cam</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#multimodal_search.MultimodalSearch.image_text_match_reordering" title="Link to this definition"></a></dt>
<dd><p>Reorder images with itm model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>search_query</strong> (<em>list</em>) – list of querys.</p></li>
<li><p><strong>itm_model_type</strong> (<em>str</em>) – type of the model.</p></li>
<li><p><strong>image_keys</strong> (<em>list</em>) – sorted list of image keys.</p></li>
<li><p><strong>sorted_lists</strong> (<em>list</em>) – sorted list of similarity.</p></li>
<li><p><strong>batch_size</strong> (<em>int</em>) – batch size. Default: 1.</p></li>
<li><p><strong>need_grad_cam</strong> (<em>bool</em>) – need gradcam. Default: False. blip2_coco model does not yet work with gradcam.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>itm_scores2</strong> – list of itm scores.</p></li>
<li><p><strong>image_gradcam_with_itm</strong> – dict of image names and gradcam.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="multimodal_search.MultimodalSearch.itm_text_precessing">
<span class="sig-name descname"><span class="pre">itm_text_precessing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">search_query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span></span></span><a class="headerlink" href="#multimodal_search.MultimodalSearch.itm_text_precessing" title="Link to this definition"></a></dt>
<dd><p>Process text querys for itm model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>search_query</strong> (<em>list</em>) – list of querys.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>text_query_index</strong> (<em>list</em>) – list of indexes of text querys.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="multimodal_search.MultimodalSearch.load_feature_extractor_model_albef">
<span class="sig-name descname"><span class="pre">load_feature_extractor_model_albef</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'cpu'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#multimodal_search.MultimodalSearch.load_feature_extractor_model_albef" title="Link to this definition"></a></dt>
<dd><p>Load base albef_feature_extractor model and preprocessors for visual and text inputs from lavis.models.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>device</strong> (<em>str</em>) – device to use. Can be “cpu” or “cuda”. Default: “cpu”.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>model</strong> (<em>torch.nn.Module</em>) – model.</p></li>
<li><p><strong>vis_processors</strong> (<em>dict</em>) – preprocessors for visual inputs.</p></li>
<li><p><strong>txt_processors</strong> (<em>dict</em>) – preprocessors for text inputs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="multimodal_search.MultimodalSearch.load_feature_extractor_model_blip">
<span class="sig-name descname"><span class="pre">load_feature_extractor_model_blip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'cpu'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#multimodal_search.MultimodalSearch.load_feature_extractor_model_blip" title="Link to this definition"></a></dt>
<dd><p>Load base blip_feature_extractor model and preprocessors for visual and text inputs from lavis.models.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>device</strong> (<em>str</em>) – device to use. Can be “cpu” or “cuda”. Default: “cpu”.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>model</strong> (<em>torch.nn.Module</em>) – model.</p></li>
<li><p><strong>vis_processors</strong> (<em>dict</em>) – preprocessors for visual inputs.</p></li>
<li><p><strong>txt_processors</strong> (<em>dict</em>) – preprocessors for text inputs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="multimodal_search.MultimodalSearch.load_feature_extractor_model_blip2">
<span class="sig-name descname"><span class="pre">load_feature_extractor_model_blip2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'cpu'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#multimodal_search.MultimodalSearch.load_feature_extractor_model_blip2" title="Link to this definition"></a></dt>
<dd><p>Load pretrain blip2_feature_extractor model and preprocessors for visual and text inputs from lavis.models.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>device</strong> (<em>str</em>) – device to use. Can be “cpu” or “cuda”. Default: “cpu”.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>model</strong> (<em>torch.nn.Module</em>) – model.</p></li>
<li><p><strong>vis_processors</strong> (<em>dict</em>) – preprocessors for visual inputs.</p></li>
<li><p><strong>txt_processors</strong> (<em>dict</em>) – preprocessors for text inputs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="multimodal_search.MultimodalSearch.load_feature_extractor_model_clip_base">
<span class="sig-name descname"><span class="pre">load_feature_extractor_model_clip_base</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'cpu'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#multimodal_search.MultimodalSearch.load_feature_extractor_model_clip_base" title="Link to this definition"></a></dt>
<dd><p>Load base clip_feature_extractor model and preprocessors for visual and text inputs from lavis.models.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>device</strong> (<em>str</em>) – device to use. Can be “cpu” or “cuda”. Default: “cpu”.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>model</strong> (<em>torch.nn.Module</em>) – model.</p></li>
<li><p><strong>vis_processors</strong> (<em>dict</em>) – preprocessors for visual inputs.</p></li>
<li><p><strong>txt_processors</strong> (<em>dict</em>) – preprocessors for text inputs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="multimodal_search.MultimodalSearch.load_feature_extractor_model_clip_vitl14">
<span class="sig-name descname"><span class="pre">load_feature_extractor_model_clip_vitl14</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'cpu'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#multimodal_search.MultimodalSearch.load_feature_extractor_model_clip_vitl14" title="Link to this definition"></a></dt>
<dd><p>Load ViT-L-14 clip_feature_extractor model and preprocessors for visual and text inputs from lavis.models.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>device</strong> (<em>str</em>) – device to use. Can be “cpu” or “cuda”. Default: “cpu”.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>model</strong> (<em>torch.nn.Module</em>) – model.</p></li>
<li><p><strong>vis_processors</strong> (<em>dict</em>) – preprocessors for visual inputs.</p></li>
<li><p><strong>txt_processors</strong> (<em>dict</em>) – preprocessors for text inputs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="multimodal_search.MultimodalSearch.load_feature_extractor_model_clip_vitl14_336">
<span class="sig-name descname"><span class="pre">load_feature_extractor_model_clip_vitl14_336</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'cpu'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#multimodal_search.MultimodalSearch.load_feature_extractor_model_clip_vitl14_336" title="Link to this definition"></a></dt>
<dd><p>Load ViT-L-14-336 clip_feature_extractor model and preprocessors for visual and text inputs from lavis.models.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>device</strong> (<em>str</em>) – device to use. Can be “cpu” or “cuda”. Default: “cpu”.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>model</strong> (<em>torch.nn.Module</em>) – model.</p></li>
<li><p><strong>vis_processors</strong> (<em>dict</em>) – preprocessors for visual inputs.</p></li>
<li><p><strong>txt_processors</strong> (<em>dict</em>) – preprocessors for text inputs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="multimodal_search.MultimodalSearch.load_tensors">
<span class="sig-name descname"><span class="pre">load_tensors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tensor</span></span></span><a class="headerlink" href="#multimodal_search.MultimodalSearch.load_tensors" title="Link to this definition"></a></dt>
<dd><p>Load tensors from given path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – name of the file.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>features_image_stacked</strong> (<em>torch.Tensor</em>) – tensors of images features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="multimodal_search.MultimodalSearch.multimodal_device">
<span class="sig-name descname"><span class="pre">multimodal_device</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">device(type='cpu')</span></em><a class="headerlink" href="#multimodal_search.MultimodalSearch.multimodal_device" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="multimodal_search.MultimodalSearch.multimodal_search">
<span class="sig-name descname"><span class="pre">multimodal_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vis_processors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">txt_processors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_keys</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features_image_stacked</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tensor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_number_of_images</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_val_limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_rel_error</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#multimodal_search.MultimodalSearch.multimodal_search" title="Link to this definition"></a></dt>
<dd><p>Search for images with given querys.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>torch.nn.Module</em>) – model.</p></li>
<li><p><strong>vis_processors</strong> (<em>dict</em>) – preprocessors for visual inputs.</p></li>
<li><p><strong>txt_processors</strong> (<em>dict</em>) – preprocessors for text inputs.</p></li>
<li><p><strong>model_type</strong> (<em>str</em>) – type of the model.</p></li>
<li><p><strong>image_keys</strong> (<em>list</em>) – sorted list of image keys.</p></li>
<li><p><strong>features_image_stacked</strong> (<em>torch.Tensor</em>) – tensors of images features stacked in device.</p></li>
<li><p><strong>search_query</strong> (<em>list</em>) – list of querys.</p></li>
<li><p><strong>filter_number_of_images</strong> (<em>str</em>) – number of images to show. Default: None.</p></li>
<li><p><strong>filter_val_limit</strong> (<em>str</em>) – limit of similarity value. Default: None.</p></li>
<li><p><strong>filter_rel_error</strong> (<em>str</em>) – limit of relative error. Default: None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>similarity</strong> (<em>torch.Tensor</em>) – similarity between images and querys.</p></li>
<li><p><strong>sorted_lists</strong> (<em>list</em>) – sorted list of similarity.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="multimodal_search.MultimodalSearch.parsing_images">
<span class="sig-name descname"><span class="pre">parsing_images</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_to_save_tensors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'./saved_tensors/'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_to_load_tensors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#multimodal_search.MultimodalSearch.parsing_images" title="Link to this definition"></a></dt>
<dd><p>Parsing images with feature_extractor model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_type</strong> (<em>str</em>) – type of the model.</p></li>
<li><p><strong>path_to_save_tensors</strong> (<em>str</em>) – path to save the tensors. Default: “./saved_tensors/”.</p></li>
<li><p><strong>path_to_load_tensors</strong> (<em>str</em>) – path to load the tesors. Default: None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>model</strong> (<em>torch.nn.Module</em>) – model.</p></li>
<li><p><strong>vis_processors</strong> (<em>dict</em>) – preprocessors for visual inputs.</p></li>
<li><p><strong>txt_processors</strong> (<em>dict</em>) – preprocessors for text inputs.</p></li>
<li><p><strong>image_keys</strong> (<em>list</em>) – sorted list of image keys.</p></li>
<li><p><strong>image_names</strong> (<em>list</em>) – sorted list of image names.</p></li>
<li><p><strong>features_image_stacked</strong> (<em>torch.Tensor</em>) – tensors of images features stacked in device.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="multimodal_search.MultimodalSearch.querys_processing">
<span class="sig-name descname"><span class="pre">querys_processing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">search_query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">txt_processors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vis_processors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tensor</span></span></span><a class="headerlink" href="#multimodal_search.MultimodalSearch.querys_processing" title="Link to this definition"></a></dt>
<dd><p>Process querys.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>search_query</strong> (<em>list</em>) – list of querys.</p></li>
<li><p><strong>model</strong> (<em>torch.nn.Module</em>) – model.</p></li>
<li><p><strong>txt_processors</strong> (<em>dict</em>) – preprocessors for text inputs.</p></li>
<li><p><strong>vis_processors</strong> (<em>dict</em>) – preprocessors for visual inputs.</p></li>
<li><p><strong>model_type</strong> (<em>str</em>) – type of the model.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>multi_features_stacked</strong> (<em>torch.Tensor</em>) – tensors of querys features.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="multimodal_search.MultimodalSearch.read_and_process_images">
<span class="sig-name descname"><span class="pre">read_and_process_images</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_paths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vis_processor</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#multimodal_search.MultimodalSearch.read_and_process_images" title="Link to this definition"></a></dt>
<dd><p>Read and process images with vis_processor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image_paths</strong> (<em>str</em>) – paths to images.</p></li>
<li><p><strong>vis_processor</strong> (<em>dict</em>) – preprocessors for visual inputs.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>raw_images</strong> (<em>list</em>) – list of images.</p></li>
<li><p><strong>images_tensors</strong> (<em>torch.Tensor</em>) – tensors of images stacked in device.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="multimodal_search.MultimodalSearch.read_and_process_images_itm">
<span class="sig-name descname"><span class="pre">read_and_process_images_itm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_paths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vis_processor</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#multimodal_search.MultimodalSearch.read_and_process_images_itm" title="Link to this definition"></a></dt>
<dd><p>Read and process images with vis_processor for itm model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image_paths</strong> (<em>list</em>) – paths to images.</p></li>
<li><p><strong>vis_processor</strong> (<em>dict</em>) – preprocessors for visual inputs.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>raw_images</strong> (<em>list</em>) – list of images.</p></li>
<li><p><strong>images_tensors</strong> (<em>torch.Tensor</em>) – tensors of images stacked in device.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="multimodal_search.MultimodalSearch.read_img">
<span class="sig-name descname"><span class="pre">read_img</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">&lt;module</span> <span class="pre">'PIL.Image'</span> <span class="pre">from</span> <span class="pre">'/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/PIL/Image.py'&gt;</span></span></span><a class="headerlink" href="#multimodal_search.MultimodalSearch.read_img" title="Link to this definition"></a></dt>
<dd><p>Load Image from filepath.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filepath</strong> (<em>str</em>) – path to image.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>raw_image</strong> (<em>PIL.Image</em>) – image.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="multimodal_search.MultimodalSearch.resize_img">
<span class="sig-name descname"><span class="pre">resize_img</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw_img:</span> <span class="pre">&lt;module</span> <span class="pre">'PIL.Image'</span> <span class="pre">from</span> <span class="pre">'/opt/hostedtoolcache/Python/3.9.19/x64/lib/python3.9/site-packages/PIL/Image.py'&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#multimodal_search.MultimodalSearch.resize_img" title="Link to this definition"></a></dt>
<dd><p>Proportional resize image to 240 p width.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>raw_img</strong> (<em>PIL.Image</em>) – image.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>resized_image</strong> (<em>PIL.Image</em>) – proportional resized image to 240p.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="multimodal_search.MultimodalSearch.save_tensors">
<span class="sig-name descname"><span class="pre">save_tensors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">features_image_stacked</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tensor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'saved_features_image.pt'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'./saved_tensors/'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#multimodal_search.MultimodalSearch.save_tensors" title="Link to this definition"></a></dt>
<dd><p>Save tensors as binary to given path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_type</strong> (<em>str</em>) – type of the model.</p></li>
<li><p><strong>features_image_stacked</strong> (<em>torch.Tensor</em>) – tensors of images features stacked in device.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – name of the file. Default: “saved_features_image.pt”.</p></li>
<li><p><strong>path</strong> (<em>str</em>) – path to save the file. Default: “./saved_tensors/”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>name</strong> (<em>str</em>) – name of the file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="multimodal_search.MultimodalSearch.show_results">
<span class="sig-name descname"><span class="pre">show_results</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">itm</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_gradcam_with_itm</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#multimodal_search.MultimodalSearch.show_results" title="Link to this definition"></a></dt>
<dd><p>Show results of search.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<em>dict</em>) – query.</p></li>
<li><p><strong>itm</strong> (<em>bool</em>) – use itm model. Default: False.</p></li>
<li><p><strong>image_gradcam_with_itm</strong> (<em>dict</em>) – use gradcam. Default: empty.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="multimodal_search.MultimodalSearch.upload_model_blip2_coco">
<span class="sig-name descname"><span class="pre">upload_model_blip2_coco</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#multimodal_search.MultimodalSearch.upload_model_blip2_coco" title="Link to this definition"></a></dt>
<dd><p>Load coco blip2_image_text_matching model and preprocessors for visual inputs from lavis.models.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>itm_model</strong> (<em>torch.nn.Module</em>) – model.</p></li>
<li><p><strong>vis_processor</strong> (<em>dict</em>) – preprocessors for visual inputs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="multimodal_search.MultimodalSearch.upload_model_blip_base">
<span class="sig-name descname"><span class="pre">upload_model_blip_base</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#multimodal_search.MultimodalSearch.upload_model_blip_base" title="Link to this definition"></a></dt>
<dd><p>Load base blip_image_text_matching model and preprocessors for visual input from lavis.models.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>itm_model</strong> (<em>torch.nn.Module</em>) – model.</p></li>
<li><p><strong>vis_processor</strong> (<em>dict</em>) – preprocessors for visual inputs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="multimodal_search.MultimodalSearch.upload_model_blip_large">
<span class="sig-name descname"><span class="pre">upload_model_blip_large</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#multimodal_search.MultimodalSearch.upload_model_blip_large" title="Link to this definition"></a></dt>
<dd><p>Load large blip_image_text_matching model and preprocessors for visual input from lavis.models.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>itm_model</strong> (<em>torch.nn.Module</em>) – model.</p></li>
<li><p><strong>vis_processor</strong> (<em>dict</em>) – preprocessors for visual inputs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-faces">
<span id="faces-module"></span><h1>faces module<a class="headerlink" href="#module-faces" title="Link to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="faces.EmotionDetector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">faces.</span></span><span class="sig-name descname"><span class="pre">EmotionDetector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subdict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emotion_threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">50.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">race_threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">50.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#faces.EmotionDetector" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">AnalysisMethod</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="faces.EmotionDetector.analyse_image">
<span class="sig-name descname"><span class="pre">analyse_image</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#faces.EmotionDetector.analyse_image" title="Link to this definition"></a></dt>
<dd><p>Performs facial expression analysis on the image.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dict</strong> – The updated subdict dictionary with analysis results.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="faces.EmotionDetector.analyze_single_face">
<span class="sig-name descname"><span class="pre">analyze_single_face</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">face</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#faces.EmotionDetector.analyze_single_face" title="Link to this definition"></a></dt>
<dd><p>Analyzes the features of a single face.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>face</strong> (<em>np.ndarray</em>) – The face image array.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>dict</strong> – The analysis results for the face.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="faces.EmotionDetector.clean_subdict">
<span class="sig-name descname"><span class="pre">clean_subdict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">result</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#faces.EmotionDetector.clean_subdict" title="Link to this definition"></a></dt>
<dd><p>Cleans the subdict dictionary by converting results into appropriate formats.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>result</strong> (<em>dict</em>) – The analysis results.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>dict</strong> – The updated subdict dictionary.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="faces.EmotionDetector.facial_expression_analysis">
<span class="sig-name descname"><span class="pre">facial_expression_analysis</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#faces.EmotionDetector.facial_expression_analysis" title="Link to this definition"></a></dt>
<dd><p>Performs facial expression analysis on the image.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dict</strong> – The updated subdict dictionary with analysis results.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="faces.EmotionDetector.set_keys">
<span class="sig-name descname"><span class="pre">set_keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#faces.EmotionDetector.set_keys" title="Link to this definition"></a></dt>
<dd><p>Sets the initial parameters for the analysis.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dict</strong> – The dictionary with initial parameter values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="faces.EmotionDetector.wears_mask">
<span class="sig-name descname"><span class="pre">wears_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">face</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#faces.EmotionDetector.wears_mask" title="Link to this definition"></a></dt>
<dd><p>Determines whether a face wears a mask.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>face</strong> (<em>np.ndarray</em>) – The face image array.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>bool</strong> – True if the face wears a mask, False otherwise.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="faces.deepface_symlink_processor">
<span class="sig-prename descclassname"><span class="pre">faces.</span></span><span class="sig-name descname"><span class="pre">deepface_symlink_processor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#faces.deepface_symlink_processor" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-colors">
<span id="color-analysis-module"></span><h1>color_analysis module<a class="headerlink" href="#module-colors" title="Link to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="colors.ColorDetector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">colors.</span></span><span class="sig-name descname"><span class="pre">ColorDetector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subdict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta_e_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'CIE</span> <span class="pre">1976'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#colors.ColorDetector" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">AnalysisMethod</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="colors.ColorDetector.analyse_image">
<span class="sig-name descname"><span class="pre">analyse_image</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#colors.ColorDetector.analyse_image" title="Link to this definition"></a></dt>
<dd><p>Uses the colorgram library to extract the n most common colors from the images.
One problem is, that the most common colors are taken before beeing categorized,
so for small values it might occur that the ten most common colors are shades of grey,
while other colors are present but will be ignored. Because of this n_colors=100 was chosen as default.</p>
<p>The colors are then matched to the closest color in the CSS3 color list using the delta-e metric.
They are then merged into one data frame.
The colors can be reduced to a smaller list of colors using the get_color_table function.
These colors are: “red”, “green”, “blue”, “yellow”,”cyan”, “orange”, “purple”, “pink”, “brown”, “grey”, “white”, “black”.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dict</strong> – Dictionary with color names as keys and percentage of color in image as values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="colors.ColorDetector.rgb2name">
<span class="sig-name descname"><span class="pre">rgb2name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">c</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merge_color</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta_e_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'CIE</span> <span class="pre">1976'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#colors.ColorDetector.rgb2name" title="Link to this definition"></a></dt>
<dd><p>Take an rgb color as input and return the closest color name from the CSS3 color list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c</strong> (<em>Union</em><em>[</em><em>List</em><em>,</em><em>tuple</em><em>]</em>) – RGB value.</p></li>
<li><p><strong>merge_color</strong> (<em>bool</em><em>, </em><em>Optional</em>) – Whether color name should be reduced, defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>str</strong> – Closest matching color name.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="colors.ColorDetector.set_keys">
<span class="sig-name descname"><span class="pre">set_keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#colors.ColorDetector.set_keys" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-cropposts">
<span id="cropposts-module"></span><h1>cropposts module<a class="headerlink" href="#module-cropposts" title="Link to this heading"></a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="cropposts.compute_crop_corner">
<span class="sig-prename descclassname"><span class="pre">cropposts.</span></span><span class="sig-name descname"><span class="pre">compute_crop_corner</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matches</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DMatch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kp1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kp2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h_margin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_margin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_match</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">6</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="headerlink" href="#cropposts.compute_crop_corner" title="Link to this definition"></a></dt>
<dd><p>Estimate the position on the image from where to crop.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>matches</strong> (<em>cv2.DMatch</em>) – The matched objects on the image.</p></li>
<li><p><strong>kp1</strong> (<em>np.ndarray</em>) – Key points of the matches for the reference image.</p></li>
<li><p><strong>kp2</strong> (<em>np.ndarray</em>) – Key points of the matches for the social media posts.</p></li>
<li><p><strong>region</strong> (<em>int</em><em>, </em><em>optional</em>) – Area to consider around the keypoints.
Defaults to 30.</p></li>
<li><p><strong>h_margin</strong> (<em>int</em><em>, </em><em>optional</em>) – Horizontal margin to subtract from the minimum
horizontal position. Defaults to 0.</p></li>
<li><p><strong>v_margin</strong> (<em>int</em><em>, </em><em>optional</em>) – Vertical margin to subtract from the minimum
vertical position. Defaults to 5.</p></li>
<li><p><strong>min_match</strong> – Minimum number of matches required. Defaults to 6.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>tuple, optional</strong> – Tuple of vertical and horizontal crop corner coordinates.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cropposts.crop_image_from_post">
<span class="sig-prename descclassname"><span class="pre">cropposts.</span></span><span class="sig-name descname"><span class="pre">crop_image_from_post</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">final_h</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="headerlink" href="#cropposts.crop_image_from_post" title="Link to this definition"></a></dt>
<dd><p>Crop the image part from the social media post.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>view</strong> (<em>np.ndarray</em>) – The image to be cropped.</p></li>
<li><p><strong>final_h</strong> – The horizontal position up to which should be cropped.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>np.ndarray</strong> – The cropped image part.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cropposts.crop_media_posts">
<span class="sig-prename descclassname"><span class="pre">cropposts.</span></span><span class="sig-name descname"><span class="pre">crop_media_posts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_crop_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plt_match</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plt_crop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plt_image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#cropposts.crop_media_posts" title="Link to this definition"></a></dt>
<dd><p>Crop social media posts so that comments beyond the first comment/post are cut off.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>files</strong> (<em>list</em>) – List of all the files to be cropped.</p></li>
<li><p><strong>ref_files</strong> (<em>list</em>) – List of all the reference images that signify
below which regions should be cropped.</p></li>
<li><p><strong>save_crop_dir</strong> (<em>str</em>) – Directory where to write the cropped social media posts to.</p></li>
<li><p><strong>plt_match</strong> (<em>Bool</em><em>, </em><em>optional</em>) – Display the matched areas on the social media post.
Defaults to False.</p></li>
<li><p><strong>plt_crop</strong> (<em>Bool</em><em>, </em><em>optional</em>) – Display the cropped text part of the social media post.
Defaults to False.</p></li>
<li><p><strong>plt_image</strong> (<em>Bool</em><em>, </em><em>optional</em>) – Display the image part of the social media post.
Defaults to False.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cropposts.crop_posts_from_refs">
<span class="sig-prename descclassname"><span class="pre">cropposts.</span></span><span class="sig-name descname"><span class="pre">crop_posts_from_refs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ref_views</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plt_match</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plt_crop</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plt_image</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="headerlink" href="#cropposts.crop_posts_from_refs" title="Link to this definition"></a></dt>
<dd><p>Crop the social media post comments from the image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ref_views</strong> (<em>list</em>) – List of all the reference images (as numpy arrays) that signify
below which regions should be cropped.</p></li>
<li><p><strong>view</strong> (<em>np.ndarray</em>) – The image to crop.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>np.ndarray</strong> – The cropped social media post.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cropposts.crop_posts_image">
<span class="sig-prename descclassname"><span class="pre">cropposts.</span></span><span class="sig-name descname"><span class="pre">crop_posts_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ref_view</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">ndarray</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cropposts.crop_posts_image" title="Link to this definition"></a></dt>
<dd><p>Crop the social media post to exclude additional comments. Sometimes also crops the
image part of the post - this is put back in later.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ref_views</strong> (<em>list</em>) – List of all the reference images (as numpy arrays) that signify
below which regions should be cropped.</p></li>
<li><p><strong>view</strong> (<em>np.ndarray</em>) – The image to crop.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>np.ndarray</strong> – The cropped social media post.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cropposts.draw_matches">
<span class="sig-prename descclassname"><span class="pre">cropposts.</span></span><span class="sig-name descname"><span class="pre">draw_matches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matches</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">img1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">img2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kp1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">KeyPoint</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kp2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">KeyPoint</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#cropposts.draw_matches" title="Link to this definition"></a></dt>
<dd><p>Visualize the matches from SIFT.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>matches</strong> (<em>list</em><em>[</em><em>cv2.Match</em><em>]</em>) – List of cv2.Match matches on the image.</p></li>
<li><p><strong>img1</strong> (<em>np.ndarray</em>) – The reference image.</p></li>
<li><p><strong>img2</strong> (<em>np.ndarray</em>) – The social media post.</p></li>
<li><p><strong>kp1</strong> (<em>list</em><em>[</em><em>cv2.KeyPoint</em><em>]</em>) – List of keypoints from the first image.</p></li>
<li><p><strong>kp2</strong> (<em>list</em><em>[</em><em>cv2.KeyPoint</em><em>]</em>) – List of keypoints from the second image.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cropposts.kp_from_matches">
<span class="sig-prename descclassname"><span class="pre">cropposts.</span></span><span class="sig-name descname"><span class="pre">kp_from_matches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matches</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kp1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kp2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cropposts.kp_from_matches" title="Link to this definition"></a></dt>
<dd><p>Extract the match indices from the keypoints.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kp1</strong> (<em>np.ndarray</em>) – Key points of the matches,</p></li>
<li><p><strong>kp2</strong> (<em>np.ndarray</em>) – Key points of the matches,</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>tuple</strong> – Index of the descriptor in the list of train descriptors.</p></li>
<li><p><strong>tuple</strong> – index of the descriptor in the list of query descriptors.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cropposts.matching_points">
<span class="sig-prename descclassname"><span class="pre">cropposts.</span></span><span class="sig-name descname"><span class="pre">matching_points</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">img2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">DMatch</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">KeyPoint</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">KeyPoint</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cropposts.matching_points" title="Link to this definition"></a></dt>
<dd><p>Computes keypoint matches using the SIFT algorithm between two images.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>img1</strong> (<em>np.ndarray</em>) – The reference image.</p></li>
<li><p><strong>img2</strong> (<em>np.ndarray</em>) – The social media post.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>cv2.DMatch</strong> – List of filtered keypoint matches.</p></li>
<li><p><strong>cv2.KeyPoint</strong> – List of keypoints from the first image.</p></li>
<li><p><strong>cv2.KeyPoint</strong> – List of keypoints from the second image.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="cropposts.paste_image_and_comment">
<span class="sig-prename descclassname"><span class="pre">cropposts.</span></span><span class="sig-name descname"><span class="pre">paste_image_and_comment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crop_post</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crop_view</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ndarray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="headerlink" href="#cropposts.paste_image_and_comment" title="Link to this definition"></a></dt>
<dd><p>Paste the image part and the text part together without the unecessary comments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>crop_post</strong> (<em>np.ndarray</em>) – The cropped image part of the social media post.</p></li>
<li><p><strong>crop_view</strong> (<em>np.ndarray</em>) – The cropped text part of the social media post.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>np.ndarray</strong> – The image and text part of the social media post in one image.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-utils">
<span id="utils-module"></span><h1>utils module<a class="headerlink" href="#module-utils" title="Link to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="utils.AnalysisMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">AnalysisMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subdict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utils.AnalysisMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base class to be inherited by all analysis methods.</p>
<dl class="py method">
<dt class="sig sig-object py" id="utils.AnalysisMethod.analyse_image">
<span class="sig-name descname"><span class="pre">analyse_image</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#utils.AnalysisMethod.analyse_image" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utils.AnalysisMethod.set_keys">
<span class="sig-name descname"><span class="pre">set_keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#utils.AnalysisMethod.set_keys" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="utils.DownloadResource">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">DownloadResource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utils.DownloadResource" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A remote resource that needs on demand downloading.</p>
<p>We use this as a wrapper to the pooch library. The wrapper registers
each data file and allows prefetching through the CLI entry point
ammico_prefetch_models.</p>
<dl class="py method">
<dt class="sig sig-object py" id="utils.DownloadResource.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#utils.DownloadResource.get" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="utils.DownloadResource.resources">
<span class="sig-name descname"><span class="pre">resources</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[]</span></em><a class="headerlink" href="#utils.DownloadResource.resources" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.ammico_prefetch_models">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">ammico_prefetch_models</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#utils.ammico_prefetch_models" title="Link to this definition"></a></dt>
<dd><p>Prefetch all the download resources</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.append_data_to_dict">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">append_data_to_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mydict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#utils.append_data_to_dict" title="Link to this definition"></a></dt>
<dd><p>Append entries from nested dictionaries to keys in a global dict.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.check_for_missing_keys">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">check_for_missing_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mydict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#utils.check_for_missing_keys" title="Link to this definition"></a></dt>
<dd><p>Check the nested dictionary for any missing keys in the subdicts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>mydict</strong> (<em>dict</em>) – The nested dictionary with keys to check.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>dict</strong> – The dictionary with keys appended.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.dump_df">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">dump_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mydict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#utils.dump_df" title="Link to this definition"></a></dt>
<dd><p>Utility to dump the dictionary into a dataframe.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.find_files">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">find_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['png',</span> <span class="pre">'jpg',</span> <span class="pre">'jpeg',</span> <span class="pre">'gif',</span> <span class="pre">'webp',</span> <span class="pre">'avif',</span> <span class="pre">'tiff']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#utils.find_files" title="Link to this definition"></a></dt>
<dd><p>Find image files on the file system.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em><em>, </em><em>optional</em>) – The base directory where we are looking for the images. Defaults
to None, which uses the ammico data directory if set or the current
working directory otherwise.</p></li>
<li><p><strong>pattern</strong> (<em>str</em><em>|</em><em>list</em><em>, </em><em>optional</em>) – The naming pattern that the filename should match.
Use either ‘.ext’ or just ‘ext’
Defaults to [“png”, “jpg”, “jpeg”, “gif”, “webp”, “avif”,”tiff”]. Can be used to allow other patterns or to only include
specific prefixes or suffixes.</p></li>
<li><p><strong>recursive</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to recurse into subdirectories. Default is set to True.</p></li>
<li><p><strong>limit</strong> (<em>int/list</em><em>, </em><em>optional</em>) – The maximum number of images to be found.
Provide a list or tuple of length 2 to batch the images.
Defaults to 20. To return all images, set to None or -1.</p></li>
<li><p><strong>random_seed</strong> (<em>int</em><em>, </em><em>optional</em>) – The random seed to use for shuffling the images.
If None is provided the data will not be shuffeled. Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>dict</strong> – A nested dictionary with file ids and all filenames including the path.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.get_color_table">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">get_color_table</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#utils.get_color_table" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.get_dataframe">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">get_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mydict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#utils.get_dataframe" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.initialize_dict">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">initialize_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filelist</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#utils.initialize_dict" title="Link to this definition"></a></dt>
<dd><p>Initialize the nested dictionary for all the found images.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filelist</strong> (<em>list</em>) – The list of files to be analyzed, including their paths.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>dict</strong> – The nested dictionary with all image ids and their paths.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.is_interactive">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">is_interactive</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#utils.is_interactive" title="Link to this definition"></a></dt>
<dd><p>Check if we are running in an interactive environment.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="utils.iterable">
<span class="sig-prename descclassname"><span class="pre">utils.</span></span><span class="sig-name descname"><span class="pre">iterable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utils.iterable" title="Link to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-display">
<span id="display-module"></span><h1>display module<a class="headerlink" href="#module-display" title="Link to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="display.AnalysisExplorer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">display.</span></span><span class="sig-name descname"><span class="pre">AnalysisExplorer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mydict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#display.AnalysisExplorer" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="display.AnalysisExplorer.run_server">
<span class="sig-name descname"><span class="pre">run_server</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">8050</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#display.AnalysisExplorer.run_server" title="Link to this definition"></a></dt>
<dd><p>Run the Dash server to start the analysis explorer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>port</strong> (<em>int</em><em>, </em><em>optional</em>) – The port number to run the server on (default: 8050).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="display.AnalysisExplorer.update_picture">
<span class="sig-name descname"><span class="pre">update_picture</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#display.AnalysisExplorer.update_picture" title="Link to this definition"></a></dt>
<dd><p>Callback function to update the displayed image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>img_path</strong> (<em>str</em>) – The path of the selected image.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Union[PIL.PngImagePlugin, None]</strong> – The image object to be displayed
or None if the image path is</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="modules.html" class="btn btn-neutral float-left" title="AMMICO package modules" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="license_link.html" class="btn btn-neutral float-right" title="License" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Scientific Software Center, Heidelberg University.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>